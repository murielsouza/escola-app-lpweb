<!-- Template HTML-->
<div class="h1">
  <h1>Disciplinas</h1> <hr>
    <td><button (click)="selecionar(true)" class="btn">Novo</button> </td>
  <table>
    <thead class="line1">
      <th>Código</th>
      <th>Nome</th>
      <th>Ações</th>
    </thead>
    <tbody>
      <tr *ngFor = "let disciplina of disciplinas">
        <td id="detail">{{disciplina.codigo}}</td>
        <td (click)="detalhes(disciplina)"> {{disciplina.nome}}</td>
          <button (click)="excluir(disciplina)" class="btnExcluir">
            Excluir
          </button>
          <button (click)="editar(disciplina)" (click)="selecionar(true)" class="btnAlterar">
            Editar
          </button>
      </tr>
    </tbody>
  </table>


<ul> <!-- listar dados completos da disciplina quando clicado no nome -->
  <li *ngFor="let disciplina of disciplinas">
    <p *ngIf="marcado == disciplina">
      <strong>Código:</strong> {{disciplina.codigo}}<br>
      <strong>Disciplina:</strong> {{disciplina.nome}}<br>
      <strong>Descrição:</strong> {{disciplina.descricao}}<br>
    </p>
  </li>
</ul>

<h1>Manuntenção</h1> <hr> <!-- Formulário para edição/adição de novas disciplinas -->

  <form *ngIf="selecionado == true" #cadastro="ngForm" (submit)="salvar()">
    <div>
      <label for="codigo">Código</label><br>
      <input type="number" id="codigo" name="codigo" [(ngModel)]="codigo" required>
    </div>
    <div>
      <label for="nome">Nome</label><br>
      <input type="text" id="nome" name="nome" [(ngModel)]="nome" required>
    </div>
    <div>
      <label for="descricao">Descrição</label><br>
      <textarea id="descricao" name="descricao" [(ngModel)]="descricao"
        cols="70" rows="5">
      </textarea>
    </div>
    <button type="submit" class="btn btn-primary" [disabled]="!cadastro.valid">
      Salvar
    </button>
    <button type="reset" (click)="cancelar()">Cancelar</button>
  </form>
</div>
